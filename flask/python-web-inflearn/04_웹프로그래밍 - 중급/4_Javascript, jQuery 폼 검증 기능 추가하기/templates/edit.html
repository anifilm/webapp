{% extends "base.html" %}

{% block title %}Flask board - Edit{% endblock %}

{% block content %}
<table>
  <form name="form" action="{{ url_for('board.board_edit', idx=data._id) }}" method="POST" onsubmit="return checkForm()">
    <tr>
      <td>작성자</td>
      <td><input type="text" name="name" id="name" value="{{ session['name'] }}" readonly disabled></td>
    </tr>
    <tr>
      <td>제목</td>
      <td><input type="text" name="title" id="title" value="{{ data.title }}" required></td>
    </tr>
    <tr>
      <td>내용</td>
      <td><textarea name="contents" id="contents" cols="30" rows="10" required>{{ data.contents }}</textarea></td>
    </tr>
    <tr>
      <td colspan="2"><input type="submit"></td>
    </tr>
  </form>
</table>
<a href="{{ url_for('board.board_view', idx=data._id) }}">취소</a>
{% endblock %}

{% block script %}
<script>
  function checkForm() {
    if ($.trim($('#title').val()) == '') {
      alert('제목을 입력하세요.')
      $('#title').focus();
      return false;
    }

    if ($.trim($('#contents').val()) == '') {
      alert('내용을 입력하세요.')
      $('#contenst').focus();
      return false;
    }

    return true;
  }
</script>
{% endblock %}
