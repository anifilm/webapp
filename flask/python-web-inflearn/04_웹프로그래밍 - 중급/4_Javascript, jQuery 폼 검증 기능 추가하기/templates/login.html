{% extends "base.html" %}

{% block title %}Flask board - Login{% endblock %}

{% block content %}
<table id="login">
  <form name="form" action="{{ url_for('member.member_login') }}" method="POST" onsubmit="return checkForm()">
    {% if next_url %}
      <input type="hidden" name="next_url" value="{{ next_url }}">
    {% endif %}
    <thead>
      <caption>사용자 로그인</caption>
    </thead>
    <tbody>
      <tr>
        <td>이메일</td>
        <td><input type="email" name="email" id="email" required></td>
      </tr>
      <tr>
        <td>비밀번호</td>
        <td><input type="password" name="password" id="password" required></td>
      </tr>
      <tr>
        <td colspan="2"><input type="submit" value="로그인"></td>
      </tr>
    </tbody>
  </form>
</table>
{% endblock %}

{% block script %}
<script>
  function checkForm() {
    if ($.trim($('#email').val()) == '') {
      alert('이메일을 입력하세요.')
      $('#email').focus();
      return false;
    }

    if (!validateEmail($.trim($('#email').val()))) {
      alert('이메일 유효성이 올바르지 않습니다.');
      $('#email').focus();
      return false;
    }

    if ($.trim($('#password').val()) == '') {
      alert('비밀번호를 입력하세요.')
      $('#password').focus();
      return false;
    }

    return true;
  }
</script>
{% endblock %}
