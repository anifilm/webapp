{% extends "base.html" %}

{% block title %}Flask board - Register{% endblock %}

{% block content %}
<table id="register">
  <form name="form" action="{{ url_for('member.member_register') }}" method="POST" onsubmit="return checkForm()">
    <thead>
      <caption>회원 등록</caption>
    </thead>
    <tbody>
      <tr>
        <td>이메일</td>
        <td><input type="email" name="email" id="email" required></td>
      </tr>
      <tr>
        <td>사용자명</td>
        <td><input type="text" name="name" id="name" required></td>
      </tr>
      <tr>
        <td>비밀번호</td>
        <td><input type="password" name="password" id="password" required></td>
      </tr>
      <tr>
        <td>비밀번호 확인</td>
        <td><input type="password" name="password_re" id="password_re" required></td>
      </tr>
      <tr>
        <td colspan="2"><input type="submit" value="등록하기"></td>
      </tr>
    </tbody>
  </form>
</table>
{% endblock %}

{% block script %}
<script>
  function checkForm() {
    if ($.trim($('#email').val()) == '') {
      alert('이메일을 입력하세요.')
      $('#email').focus();
      return false;
    }

    if (!validateEmail($.trim($('#email').val()))) {
      alert('이메일 유효성이 올바르지 않습니다.');
      $('#email').focus();
      return false;
    }

    if ($.trim($('#name').val()) == '') {
      alert('사용자명을 입력하세요.')
      $('#name').focus();
      return false;
    }

    if ($.trim($('#password').val()) == '') {
      alert('비밀번호를 입력하세요.')
      $('#password').focus();
      return false;
    }

    if ($.trim($('#password_re').val()) == '') {
      alert('비밀번호 확인을 입력하세요.')
      $('#password_re').focus();
      return false;
    }

    if ($.trim($('#password').val()) != $.trim($('#password_re').val())) {
      alert('비밀번호가 일치하지 않습니다.')
      $('#password_re').focus();
      return false;
    }

    return true;
  }
</script>
{% endblock %}
